name: release

on:
  push:
    branches: [ "main" ]
      
jobs:
  build:
    permissions: write-all
    runs-on: windows-latest 
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: GetTokenResponse
      id: GetTokenResponse
      run: ./pack/SyncGithubReleaseToGitee.exe --repo=${{vars.GITEE_REPO}} --client-id=${{secrets.GITEE_REPO_CLIENTID}} --client-secret=${{secrets.GITEE_REPO_CLIENTSECRET}} --email=${{secrets.GITEE_EMAIL}} --password=${{secrets.GITEE_PASSWORD}}
     